docker build -f Dockerfile -t k8s-crypto-price-producer .
docker tag k8s-crypto-price-producer jiawei016/crypto-price-collector-producer:v1
docker push jiawei016/crypto-price-collector-producer:v1

docker tag mykafkacluster-crypto_consumer:latest jiawei016/crypto-price-collector-consumer
docker push jiawei016/crypto-price-collector-consumer

# To Delete  Kubernetes
kubectl get deployments --all-namespaces
kubectl delete deployment <deployment-name>
kubectl delete deployment --all
kubectl delete service --all


kubectl apply -f zookeeper-deployment.yaml
kubectl apply -f kafka-deployment.yaml
kubectl apply -f postgres-deployment.yaml
kubectl apply -f redis-deployment.yaml
kubectl apply -f crypto-producer-service-deployment.yaml

kubectl delete deployment crypto-producer
kubectl apply -f crypto-producer-deployment.yaml
kubectl apply -f crypto-consumer-deployment.yaml